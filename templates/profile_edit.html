{% extends "base.html" %}

{% block main_content %}
<h1> {{ profile.name }} ({{ profile.username }})</h1>

<div id="profile-columns">

    <!-- LEFT COLUMN -->
    <div class="left-col">
          <h2>Your Profile</h2>
        <img src="{{ profile.pfp_url or '/static/default_pfp.jpg' }}" alt="Profile Picture">

        <!-- change information -->
        <form action="{{ url_for('edit_profile', pid = profile.pid) }}" method="POST">
                <label for="name">Name</label>
                <input type="text" id="name" name="name" value="{{ profile.name }}">

                <label for="username">Username</label>
                <input type="text" id="username" name="username" value="{{ profile.username }}">

                <button type="submit" class="btn">Update</button>

          </form>


        <ul class="profile-list">
            <li><strong>Leetcode Username:</strong> {{ profile.lc_username }}</li>
            <li><strong>Latest Submission:</strong> {{ profile.latest_submission }}</li> 
            <li><strong>Current Streak:</strong> {{ profile.current_streak }}</li>
            <li><strong>Longest Streak:</strong> {{ profile.longest_streak }}</li>
            <li><strong>Total Problems:</strong> {{ profile.total_problems }}</li>
            <li><strong>Coins:</strong> {{ profile.num_coins }}</li>
            <li><strong>Personal Goal:</strong> {{ profile.personal_goal }}</li>
            <li><strong>Number of Friends:</strong> {{ friends | length }}</li>
        </ul>

     
    </div>

    <!-- RIGHT COLUMN -->
    <div class="right-col">
        <h2>Followers</h2>
        <ul class="friend-list">
            {% for follower in followers %}
                <li>
                    <a href="{{ url_for('profile', pid=follower.pid) }}">
                         {{ follower.name }} ({{ follower.lc_username }})
                         {% if loggedin: %}
                        {% endif %}
                    </a>
               </li>
            {% endfor %}
        </ul>
    </div>
<script>
</script>
    <!-- RIGHT COLUMN -->
    <div class="right-col">
        <h2>Following</h2>
        <ul class="friend-list">
            {% for followed_user in follows %}
                <li>
                    <!-- Profile link -->
                    <a href="{{ url_for('profile', pid=followed_user.pid) }}">
                        {{ followed_user.name }} ({{ followed_user.lc_username }})
                    </a>
                </li>
            {% endfor %}
        </ul>
    </div>
<script>

</script>
</div>
{% endblock %}
