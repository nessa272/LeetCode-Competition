{% extends "base.html" %}

{% block main_content %}
<h1>Main</h1>
<p>Welcome {{ username }}!</p>

<h2 class="leaderboard-title">üèÜ Top LeetCoders üèÜ</h2>

<div class="leaderboard-card">
    <table class="leaderboard-table">
        <thead>
            <tr>
                <th>Rank</th>
                <th>User</th>
                <th>Coins</th>
            </tr>
        </thead>

        <tbody>
            {% for user in leaderboard %}
            <tr>
                <td class="rank-col">
                    {% if loop.index == 1 %}
                        <span class="medal gold">ü•á</span>
                    {% elif loop.index == 2 %}
                        <span class="medal silver">ü•à</span>
                    {% elif loop.index == 3 %}
                        <span class="medal bronze">ü•â</span>
                    {% else %}
                        {{ loop.index }}
                    {% endif %}
                </td>

                <td class="user-col">
                    <div class="user-wrapper" tabindex="0">

                        <div class="user-cell">
                            <img src="/static/default_pfp.jpg"
                                class="leaderboard-pfp"
                                alt="profile pic">

                            <div class="user-text">
                                <div class="leaderboard-username">
                                    {{ user.username }}
                                </div>
                                <div class="leetcode-username">
                                    leetcode/{{ user.lc_username }}
                                </div>
                            </div>
                        </div>

                        <!-- Popover -->
                        <div class="user-popover">
                            <a href="{{ url_for('profile', pid=user.pid) }}">
                                View LeetParty Profile
                            </a>

                            <a href="https://leetcode.com/u/{{ user.lc_username }}/"
                            target="_blank" rel="noopener">
                                View LeetCode Profile
                            </a>
                        </div>

                    </div>
                </td>
                <td class="coins-col">
                    {{ user.num_coins }}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>


{% endblock %}
